<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Love Across Distance üíó</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
  font-family: Georgia, serif;
  background: #0B132B;
}

#map {
  height: 100%;
  width: 100%;
}

#overlayText {
  position: absolute;
  bottom: 70px;
  width: 100%;
  text-align: center;
  color: #FAD961;
  font-size: 28px;
  line-height: 1.4;
  text-shadow: 0 0 20px rgba(250,217,97,0.5);
  pointer-events: none;
  opacity: 0;
  transition: opacity 2s ease;
}

#fadeOverlay {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 250px;
  background: linear-gradient(to top, rgba(11,19,43,1), rgba(11,19,43,0));
  pointer-events: none;
}

/* Square photo marker */
.photo-marker {
  width: 70px;
  height: 70px;
  border-radius: 10px;
  overflow: hidden;
  border: 3px solid #FF6F91;
  box-shadow: 0 0 15px rgba(255,111,145,0.6);
  animation: pulse 2s infinite ease-in-out;
}

.photo-marker img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

@keyframes pulse {
  0% { box-shadow: 0 0 10px rgba(255,111,145,0.4); }
  50% { box-shadow: 0 0 25px rgba(255,111,145,0.9); }
  100% { box-shadow: 0 0 10px rgba(255,111,145,0.4); }
}
</style>
</head>
<body>

<div id="map"></div>
<div id="fadeOverlay"></div>

<div id="overlayText">
Distance means nothing when hearts stay connected.<br>
VNIT Nagpur ‚ù§Ô∏è GITAM Vizag
</div>

<script>

let map;

function initMap() {

  const nagpur = { lat: 21.1230, lng: 79.0510 }; // VNIT
  const vizag = { lat: 17.7829, lng: 83.3764 };  // GITAM

  map = new google.maps.Map(document.getElementById("map"), {
    center: { lat: 19.8, lng: 81 },
    zoom: 5,
    disableDefaultUI: true,
    styles: [
      { elementType: "geometry", stylers: [{ color: "#0B132B" }] },
      { elementType: "labels.text.fill", stylers: [{ color: "#8ec3ff" }] },
      { featureType: "water", elementType: "geometry", stylers: [{ color: "#07102a" }] },
      { featureType: "road", elementType: "geometry", stylers: [{ color: "#1c2541" }] }
    ]
  });

  createPhotoMarker(nagpur, "him.jpeg");
  createPhotoMarker(vizag, "her.jpeg");

  drawRomanticCurve(nagpur, vizag);

  setTimeout(() => {
    document.getElementById("overlayText").style.opacity = 1;
  }, 3500);
}

function createPhotoMarker(position, image) {

  const markerDiv = document.createElement("div");
  markerDiv.className = "photo-marker";

  const img = document.createElement("img");
  img.src = image;
  markerDiv.appendChild(img);

  new google.maps.Marker({
    position: position,
    map: map,
    icon: {
      url: "data:image/svg+xml;charset=UTF-8," +
        encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>'),
      scaledSize: new google.maps.Size(1, 1)
    },
    label: {
      text: "",
      className: ""
    }
  });

  const overlay = new google.maps.OverlayView();
  overlay.onAdd = function() {
    const panes = overlay.getPanes();
    panes.overlayMouseTarget.appendChild(markerDiv);
  };

  overlay.draw = function() {
    const projection = overlay.getProjection();
    const point = projection.fromLatLngToDivPixel(
      new google.maps.LatLng(position.lat, position.lng)
    );
    markerDiv.style.position = "absolute";
    markerDiv.style.left = point.x - 35 + "px";
    markerDiv.style.top = point.y - 35 + "px";
  };

  overlay.setMap(map);
}

function drawRomanticCurve(start, end) {

  const overlay = new google.maps.OverlayView();

  overlay.onAdd = function () {
    const layer = overlay.getPanes().overlayLayer;
    const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    svg.style.position = "absolute";
    layer.appendChild(svg);

    const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
    path.setAttribute("stroke", "#FF6F91");
    path.setAttribute("stroke-width", "4");
    path.setAttribute("fill", "none");
    path.style.filter = "drop-shadow(0 0 12px #FF6F91)";
    path.style.strokeLinecap = "round";
    svg.appendChild(path);

    overlay.draw = function () {
      const projection = overlay.getProjection();

      const startPoint = projection.fromLatLngToDivPixel(
        new google.maps.LatLng(start.lat, start.lng)
      );

      const endPoint = projection.fromLatLngToDivPixel(
        new google.maps.LatLng(end.lat, end.lng)
      );

      const bounds = map.getBounds();
      if (!bounds) return;

      const ne = projection.fromLatLngToDivPixel(bounds.getNorthEast());
      const sw = projection.fromLatLngToDivPixel(bounds.getSouthWest());

      svg.style.left = sw.x + "px";
      svg.style.top = ne.y + "px";
      svg.setAttribute("width", ne.x - sw.x);
      svg.setAttribute("height", sw.y - ne.y);

      const x1 = startPoint.x - sw.x;
      const y1 = startPoint.y - ne.y;
      const x2 = endPoint.x - sw.x;
      const y2 = endPoint.y - ne.y;

      const midX = (x1 + x2) / 2;
      const midY = (y1 + y2) / 2 - 150;

      const d = `M ${x1} ${y1} Q ${midX} ${midY} ${x2} ${y2}`;
      path.setAttribute("d", d);
    };
  };

  overlay.setMap(map);
}

</script>

<script async
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAOVYRIgupAurZup5y1PRh8Ismb1A3lLao&libraries=places&callback=initMap">
</script>

</body>
</html>

