<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Love Across Distance ðŸ’—</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
  font-family: Georgia, serif;
  background: #0B132B;
}

#map {
  height: 100%;
  width: 100%;
}

#overlayText {
  position: absolute;
  bottom: 70px;
  width: 100%;
  text-align: center;
  color: #FAD961;
  font-size: 28px;
  line-height: 1.4;
  text-shadow: 0 0 20px rgba(250,217,97,0.5);
  pointer-events: none;
  opacity: 0;
  transition: opacity 2s ease;
}

#fadeOverlay {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 250px;
  background: linear-gradient(to top, rgba(11,19,43,1), rgba(11,19,43,0));
  pointer-events: none;
}
</style>
</head>
<body>

<div id="map"></div>
<div id="fadeOverlay"></div>

<div id="overlayText">
Distance means nothing when hearts stay connected.<br>
~700 km apart, but always close.
</div>

<script>

let map;

function initMap() {

  const vizag = { lat: 17.6868, lng: 83.2185 };
  const nagpur = { lat: 21.1458, lng: 79.0882 };

  map = new google.maps.Map(document.getElementById("map"), {
    center: { lat: 20.3, lng: 81 },
    zoom: 5,
    disableDefaultUI: true,
    styles: [
      { elementType: "geometry", stylers: [{ color: "#0B132B" }] },
      { elementType: "labels.text.fill", stylers: [{ color: "#8ec3ff" }] },
      { featureType: "water", elementType: "geometry", stylers: [{ color: "#07102a" }] },
      { featureType: "road", elementType: "geometry", stylers: [{ color: "#1c2541" }] }
    ]
  });

  createMarker(vizag);
  createMarker(nagpur);

  drawRomanticCurve(vizag, nagpur);

  setTimeout(() => {
    document.getElementById("overlayText").style.opacity = 1;
  }, 3500);
}

function createMarker(position) {
  new google.maps.Marker({
    position: position,
    map: map,
    icon: {
      path: google.maps.SymbolPath.CIRCLE,
      scale: 8,
      fillColor: "#FF6F91",
      fillOpacity: 1,
      strokeWeight: 0
    }
  });
}

function drawRomanticCurve(start, end) {

  const overlay = new google.maps.OverlayView();

  overlay.onAdd = function () {
    const layer = overlay.getPanes().overlayLayer;
    const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    svg.style.position = "absolute";
    layer.appendChild(svg);

    const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
    path.setAttribute("stroke", "#FF6F91");
    path.setAttribute("stroke-width", "4");
    path.setAttribute("fill", "none");
    path.style.filter = "drop-shadow(0 0 12px #FF6F91)";
    path.style.strokeLinecap = "round";
    svg.appendChild(path);

    overlay.draw = function () {
      const projection = overlay.getProjection();

      const startPoint = projection.fromLatLngToDivPixel(
        new google.maps.LatLng(start.lat, start.lng)
      );

      const endPoint = projection.fromLatLngToDivPixel(
        new google.maps.LatLng(end.lat, end.lng)
      );

      const bounds = map.getBounds();
      if (!bounds) return;

      const ne = projection.fromLatLngToDivPixel(bounds.getNorthEast());
      const sw = projection.fromLatLngToDivPixel(bounds.getSouthWest());

      svg.style.left = sw.x + "px";
      svg.style.top = ne.y + "px";
      svg.setAttribute("width", ne.x - sw.x);
      svg.setAttribute("height", sw.y - ne.y);

      const x1 = startPoint.x - sw.x;
      const y1 = startPoint.y - ne.y;
      const x2 = endPoint.x - sw.x;
      const y2 = endPoint.y - ne.y;

      const midX = (x1 + x2) / 2;
      const midY = (y1 + y2) / 2 - 150; // romantic lift

      const d = `M ${x1} ${y1} Q ${midX} ${midY} ${x2} ${y2}`;
      path.setAttribute("d", d);
    };
  };

  overlay.setMap(map);
}

</script>

<script async
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAOVYRIgupAurZup5y1PRh8Ismb1A3lLao&libraries=places&callback=initMap">
</script>

</body>
</html>
